"use strict";(self.webpackChunkschedule_management_system=self.webpackChunkschedule_management_system||[]).push([[66],{66:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(43),r=s(216),n=s(307),o=s(107),i=s(579);const l=function(){const[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),{setIsLoggedIn:u,setTeacherId:p,setToken:h,setExpirationDate:g}=(0,o.J)(),m=(0,r.Zp)();return(0,i.jsx)("div",{className:"login-register-wrapper",children:(0,i.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await fetch("https://backend-azure-sqlite-appservice.azurewebsites.net/Main/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s})}),a=await t.json();if(t.ok){u(!0),p(a.teacherId),h(a.token);const e=(0,n.qg)(a.expiration,"M/d/yyyy",new Date).toISOString();g(e),m("/")}else d(a.message||"Login failed")}catch(a){console.error("Login Error:",a),d("An error occurred. Please try again.")}},className:"login-register-form",children:[(0,i.jsx)("h2",{children:"Login"}),(0,i.jsx)("div",{className:"form-element",children:(0,i.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Username",required:!0})}),(0,i.jsx)("div",{className:"form-element",children:(0,i.jsx)("input",{type:"password",value:s,onChange:e=>l(e.target.value),placeholder:"Password",required:!0})}),c&&(0,i.jsx)("p",{style:{color:"red"},children:c}),(0,i.jsx)("button",{type:"submit",children:"Login"})]})})}}}]);
//# sourceMappingURL=66.10a8c132.chunk.js.map